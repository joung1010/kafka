## ì¹´í”„ì¹´ ì»¤ë§¨ë“œë¼ì¸

ì¹´í”„ì¹´ì—ì„œ ì œê³µí•˜ëŠ” ì¹´í”„ì¹´ ì»¤ë§¨ë“œ ë¼ì¸ íˆ´(command-line-tool)ë“¤ì€ ì¹´í”„ì¹´ë¥¼ ìš´ì˜í•  ë•Œ ê°€ì¥ ë§ì´ ì ‘í•˜ëŠ” ë„êµ¬ë‹¤. ì»¤ë§¨ë“œ ë¼ì¸ íˆ´ì„ í†µí•´ ì¹´í”„ì¹´ ë¸Œë¡œì»¤ ìš´ì˜ì— í•„ìš”í•œ ë‹¤ì–‘í•œ ëª…ë ¹ì„ ë‚´ë¦´ ìˆ˜ ìˆë‹¤. ì¹´í”„ì¹´ í´ë¼ì´ì–¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìš´ì˜í•  ë•ŒëŠ” ì¹´í”„ì¹´ í´ëŸ¬ìŠ¤í„°ì™€ ì—°ë™í•˜ì—¬ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ” ê²ƒë„ ì¤‘ìš”í•˜ì§€ë§Œ í† í”½ì´ë‚˜ íŒŒí‹°ì…˜ ê°œìˆ˜ ë³€ê²½ê³¼ ê°™ì€ ëª…ë ¹ì„ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ê²½ìš°ë„ ë°œìƒí•œë‹¤. ë–„ë¬¸ì— ì»¤ë§¨ë“œ ë¼ì¸íˆ´ê³¼ ê° íˆ´ë³„ ì˜µì…˜ì— ëŒ€í•´ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤.

ì»¤ë§¨ë“œ ë¼ì¸ íˆ´ì„ í†µí•´ í† í”½ ê´€ë ¨ ëª…ë ¹ì„ ì‹¤í–‰í•­ ë•Œ í•„ìˆ˜ ì˜µì…˜ê³¼ ì„ íƒ ì˜µì…˜ì´ ìˆë‹¤. ì„ íƒ ì˜µì…˜ì€ ì§€ì •í•˜ì§€ ì•Šì„ì‹œ ë¸Œë¡œì»¤ì— ì„¤ì •ëœ ê¸°ë³¸ ì„¤ì •ê°’ ë˜ëŠ” ì»¤ë§¨ë“œ ë¼ì¸ íˆ´ì˜ ê¸°ë³¸ê°’ìœ¼ë¡œ ëŒ€ì²´ë˜ì–´ ì„¤ì •ëœë‹¤. ë”°ë¼ì„œ ì„¤ì •ëœ ê¸°ë³¸ ì˜µì…˜ì´ ì–´ë–»ê²Œ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ê³  ì‚¬ìš©í•˜ë©´ ì‹¤ìˆ˜í•  í™•ë¥ ì´ ì¤„ì–´ë“ ë‹¤.

Apache Kafka CLIëŠ” Kafkaì˜ ë¸Œë¡œì»¤, í† í”½, íŒŒí‹°ì…˜ ë“± ëª¨ë“  ìš”ì†Œë¥¼ ê´€ë¦¬í•˜ê³  ëª¨ë‹ˆí„°ë§í•˜ê¸° ìœ„í•´ ì œê³µë˜ëŠ” ëª…ë ¹ì¤„ ë„êµ¬ì…ë‹ˆë‹¤. CLI ëª…ë ¹ì–´ëŠ” ì£¼ë¡œ **Kafka ì„¤ì¹˜ ë””ë ‰í† ë¦¬ì˜ `/bin` í´ë”**ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

> ê¸°ë³¸ ê²½ë¡œ ì˜ˆì‹œ
>
>
> `/kafka/bin`
>

## CLI ê¸°ë³¸ ì‚¬ìš©ë²•

CLI ëª…ë ¹ì€ ìŠ¤í¬ë¦½íŠ¸ë¡œ ì œê³µë˜ë©° í¬ê²Œ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë©ë‹ˆë‹¤.

```bash

kafka-<ê¸°ëŠ¥ëª…>-sh [ì˜µì…˜] [íŒŒë¼ë¯¸í„°]

```

ì˜ˆì‹œ:

```bash

kafka-topics.sh --create --topic test-topic --bootstrap-server localhost:9092

```

## ì£¼ìš” CLI ëª…ë ¹ì–´ ì„¤ëª…

###  `kafka-topics.sh` (í† í”½ ê´€ë¦¬)

í† í”½ì˜ ìƒì„±, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ ë“±ì˜ ì‘ì—… ìˆ˜í–‰

**ìì£¼ ì‚¬ìš©í•˜ëŠ” ì˜µì…˜:**

- `-create`: ìƒˆ í† í”½ ìƒì„±
- `-list`: í† í”½ ëª©ë¡ ì¡°íšŒ
- `-describe`: íŠ¹ì • í† í”½ì˜ ìƒì„¸ ì •ë³´
- `-delete`: í† í”½ ì‚­ì œ
- `-alter`: ê¸°ì¡´ í† í”½ ì„¤ì • ë³€ê²½

**í† í”½ ìƒì„± ì˜ˆì‹œ:**

```bash

kafka-topics.sh --create \
  --bootstrap-server localhost:9092 \
  --topic my-topic \
  --partitions 3 \
  --replication-factor 1

```

---

### `kafka-console-producer.sh` (ë©”ì‹œì§€ ìƒì‚°)

í† í”½ì— ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ëŠ” í”„ë¡œë“€ì„œ ì—­í• 

ê¸°ë³¸ ì‚¬ìš©ë²•:

```bash

kafka-console-producer.sh --topic my-topic --bootstrap-server localhost:9092

```

ì…ë ¥ í›„ ì—”í„°(Enter) í‚¤ë¥¼ ëˆ„ë¥´ë©´ ë©”ì‹œì§€ê°€ ë°œì†¡ë©ë‹ˆë‹¤.

íŠ¹ì • íŒŒì¼ì˜ ë‚´ìš©ì„ Kafkaì— ì „ì†¡í•  ë•Œ:

```bash

kafka-console-producer.sh --topic my-topic --bootstrap-server localhost:9092 < input.txt

```

---

### `kafka-console-consumer.sh` (ë©”ì‹œì§€ ì†Œë¹„)

í† í”½ì˜ ë©”ì‹œì§€ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì†Œë¹„í•˜ëŠ” ì»¨ìŠˆë¨¸ ì—­í• 

**ê¸°ë³¸ ì‚¬ìš©ë²•:**

```bash

kafka-console-consumer.sh --topic my-topic --bootstrap-server localhost:9092

```

ì˜µì…˜ ì„¤ëª…:

- `-from-beginning`: ì²˜ìŒë¶€í„° ë©”ì‹œì§€ ì†Œë¹„
- `-group`: ì»¨ìŠˆë¨¸ ê·¸ë£¹ ì§€ì •

ì˜ˆì‹œ:

```bash

kafka-console-consumer.sh --topic my-topic \
  --bootstrap-server localhost:9092 \
  --from-beginning \
  --group my-group

```

---

### `kafka-consumer-groups.sh` (ì»¨ìŠˆë¨¸ ê·¸ë£¹ ê´€ë¦¬)

ì»¨ìŠˆë¨¸ ê·¸ë£¹ì˜ ìƒíƒœ ì¡°íšŒ, offset ê´€ë¦¬

ì£¼ìš” ì˜µì…˜:

- `-list`: ë“±ë¡ëœ ì»¨ìŠˆë¨¸ ê·¸ë£¹ ëª©ë¡ ì¡°íšŒ
- `-describe`: íŠ¹ì • ì»¨ìŠˆë¨¸ ê·¸ë£¹ ìƒíƒœ í™•ì¸
- `-reset-offsets`: ì»¨ìŠˆë¨¸ ê·¸ë£¹ offset ì´ˆê¸°í™” ë˜ëŠ” ë³€ê²½

ì»¨ìŠˆë¨¸ ê·¸ë£¹ ì¡°íšŒ ì˜ˆì‹œ:

```bash

kafka-consumer-groups.sh --bootstrap-server localhost:9092 --list

```

ì»¨ìŠˆë¨¸ ê·¸ë£¹ ìƒíƒœ ìƒì„¸ì¡°íšŒ:

```bash

kafka-consumer-groups.sh --bootstrap-server localhost:9092 \
  --describe --group my-group

```

ì»¨ìŠˆë¨¸ offset ì´ˆê¸°í™” ì˜ˆì‹œ:

```bash

kafka-consumer-groups.sh --bootstrap-server localhost:9092 \
  --group my-group \
  --reset-offsets \
  --to-earliest \
  --topic my-topic \
  --execute

```

---

###  `kafka-configs.sh` (ë¸Œë¡œì»¤/í† í”½ ì„¤ì • ê´€ë¦¬)

ë™ì ìœ¼ë¡œ ë¸Œë¡œì»¤ ë˜ëŠ” í† í”½ ì„¤ì •ì„ ë³€ê²½í•˜ëŠ” ëª…ë ¹

ì˜ˆì‹œ - í† í”½ ì„¤ì • ë³€ê²½(ì˜ˆ: retention ê¸°ê°„ ë³€ê²½):

```bash

kafka-configs.sh --bootstrap-server localhost:9092 \
  --entity-type topics \
  --entity-name my-topic \
  --alter \
  --add-config retention.ms=3600000

```

---

###  `kafka-acls.sh` (ê¶Œí•œ ê´€ë¦¬)

Kafka ACL(Access Control List) ê¶Œí•œ ì„¤ì • ë° ê´€ë¦¬ ëª…ë ¹

ì‚¬ìš©ì ê¶Œí•œ ë¶€ì—¬ ì˜ˆì‹œ:

```bash

kafka-acls.sh --bootstrap-server localhost:9092 \
  --add \
  --allow-principal User:Alice \
  --operation Read \
  --topic my-topic

```

---

###  `kafka-reassign-partitions.sh` (íŒŒí‹°ì…˜ ì¬ë°°ì¹˜)

íŒŒí‹°ì…˜ì„ ë‹¤ë¥¸ ë¸Œë¡œì»¤ë¡œ ì´ë™ì‹œí‚¤ê±°ë‚˜ ì¬ë¶„ë°°í•˜ëŠ” ëª…ë ¹

ì˜ˆì‹œ:

```bash

kafka-reassign-partitions.sh \
  --bootstrap-server localhost:9092 \
  --execute \
  --reassignment-json-file reassignment.json

```

(`reassignment.json` íŒŒì¼ ì˜ˆì‹œ)

```json

{
  "version": 1,
  "partitions": [
    {"topic": "my-topic", "partition": 0, "replicas": [2,3]},
    {"topic": "my-topic", "partition": 1, "replicas": [3,1]}
  ]
}

```

---

###  `kafka-run-class.sh` (ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ ì‹¤í–‰)

Kafkaì— í¬í•¨ëœ ë‹¤ì–‘í•œ ìœ í‹¸ í´ë˜ìŠ¤ ì‹¤í–‰ ê°€ëŠ¥

ì‚¬ìš© ì˜ˆì‹œ - ë¸Œë¡œì»¤ ìƒíƒœ í™•ì¸:

```bash

kafka-run-class.sh kafka.admin.BrokerApiVersionsCommand --bootstrap-server localhost:9092

```

---

## ğŸ”¹ 3. ìì£¼ ì“°ëŠ” Kafka CLI ì‚¬ìš© ì˜ˆì‹œ ëª¨ìŒ (ì‹¤ìŠµìš©)

**í† í”½ ì¡°íšŒ:**

```bash

kafka-topics.sh --list --bootstrap-server localhost:9092

```

**ë©”ì‹œì§€ ì „ì†¡ ë° ìˆ˜ì‹  (ë¹ ë¥¸ í…ŒìŠ¤íŠ¸):**

```bash

# Producer
kafka-console-producer.sh --topic quick-test --bootstrap-server localhost:9092

# Consumer (ì²˜ìŒë¶€í„° ìˆ˜ì‹ )
kafka-console-consumer.sh --topic quick-test --from-beginning --bootstrap-server localhost:9092

```

**ì»¨ìŠˆë¨¸ ê·¸ë£¹ ìƒíƒœ í™•ì¸:**

```bash

kafka-consumer-groups.sh --bootstrap-server localhost:9092 --describe --group my-group

```

---

## ğŸ”¹ 4. Kafka CLIë¥¼ ìœ„í•œ í™˜ê²½ ì„¤ì • (íŒ)

- CLI ëª…ë ¹ì„ ì‚¬ìš©í•˜ê¸° ì‰½ê²Œ `PATH` í™˜ê²½ë³€ìˆ˜ì— ì¶”ê°€:

```bash

export PATH=$PATH:/kafka/bin

```

- ê° CLIì˜ ì˜µì…˜ í™•ì¸ì€ `-help` ì¶”ê°€:

```bash

kafka-topics.sh --help

```